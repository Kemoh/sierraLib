(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function e(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(t){if(t.ep)return;t.ep=!0;const n=e(t);fetch(t.href,n)}})();function g(){const r=document.querySelector("#ham-btn"),a=document.querySelector("#animateme");r&&a&&r.addEventListener("click",()=>{r.classList.toggle("show"),a.classList.toggle("show")})}async function u(r){const a=await fetch(r);if(!a.ok)throw new Error(`Failed to load template: ${r}`);return await a.text()}async function h(){try{const r=await u("partials/header.html"),a=await u("partials/footer.html"),e=document.querySelector("#main-header"),c=document.querySelector("#main-footer");e&&(e.innerHTML=r),c&&(c.innerHTML=a),g()}catch(r){console.error("❌ Error loading header/footer:",r)}}function b(r,a,e="app"){const c=document.querySelector(a);if(!c){console.error(`Container ${a} not found.`);return}c.innerHTML=`
      <section class="${e}-section" >
        <div id="show-${e}-cards" class="cards-grid"></div>

        <dialog id="${e}-dialog" class="${e}-dialog">
          <div class="dialog-header">
            <h3 id="${e}-title"></h3>
            <button id="close-${e}-btn" class="close-btn">&times;</button>
          </div>
          
          <p id="${e}-description"></p>
          <a id="${e}-link" href="#" class="open-btn">Open ${e}</a>
        </dialog>
      </section>
    `;const t=document.querySelector(`#${e}-dialog`),n=document.querySelector(`#${e}-title`),i=document.querySelector(`#${e}-description`),p=document.querySelector(`#${e}-link`),m=document.querySelector(`#close-${e}-btn`),f=document.querySelector(`#show-${e}-cards`);m.addEventListener("click",()=>t.close()),r.forEach(o=>{const s=document.createElement("div");s.classList.add(`${e}-card`),s.style.backgroundColor=o.cardColor;const l=document.createElement("img");l.src=o.appImage||o.subjectImage||o.subjectImage,l.alt=`${o.appName||o.subjectName||o.subjectTitle} logo`,l.classList.add(`${e}-image`);const d=document.createElement("h2");d.textContent=o.appName||o.subjectName||o.subjectTitle,s.dataset.title=o.appName||o.subjectName||o.subjectTitle,s.dataset.description=o.appDescription||o.subjectDescription,s.dataset.link=o.streamLink||o.subjectLink,s.addEventListener("click",()=>{n.textContent=s.dataset.title,i.textContent=s.dataset.description,p.href=s.dataset.link,t.showModal()}),s.append(d,l),f.appendChild(s)})}function L(){document.body.classList.remove("animate-app"),document.body.offsetWidth,document.body.classList.add("animate-app")}document.addEventListener("DOMContentLoaded",()=>{h()});const $=[{appName:"ExamPal",appDescription:"Prepare for public exams by practicing past papers and tracking your progress effectively.",appImage:"./exampal-logo.webp",streamLink:"./apps/exams.html",cardColor:"lightgray"},{appName:"LibLocate",appDescription:"Find all Sierra Library outlets across the country. View locations, details, and directions — all in one app.",appImage:"./liblocate-logo.webp",streamLink:"./apps/locate.html",cardColor:"lightblue"}];function y(){b($,"#sierralib-apps","app"),L()}y();
